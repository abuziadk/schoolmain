<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>خريطة صناديق حفظ المصاحف – منطقة جازان</title>

  <style>
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Tajawal", "Cairo", Arial, sans-serif;
      background:#f6f7f8;
      color:#111;
    }
    header{
      padding:16px 18px;
      background:#0B6E4F;
      color:#fff;
    }
    header h1{
      margin:0;
      font-size:18px;
      font-weight:800;
    }
    header p{
      margin:6px 0 0;
      font-size:14px;
      opacity:.95;
      line-height:1.6;
    }

    .wrap{
      padding:14px;
      max-width:1200px;
      margin:0 auto;
      display:grid;
      grid-template-columns: 360px 1fr;
      gap:12px;
    }

    @media (max-width: 950px){
      .wrap{ grid-template-columns: 1fr; }
    }

    .card{
      background:#fff;
      border-radius:14px;
      box-shadow:0 6px 18px rgba(0,0,0,.08);
      overflow:hidden;
    }

    .map{
      position:relative;
      width:100%;
      padding-top:62%;
      background:#eee;
    }
    .map iframe{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      border:0;
    }

    .panel{
      padding:12px;
    }
    .panel h2{
      margin:0 0 10px;
      font-size:16px;
      color:#0B6E4F;
    }
    .search{
      width:100%;
      box-sizing:border-box;
      padding:10px 12px;
      border:1px solid #ddd;
      border-radius:10px;
      font-size:14px;
      outline:none;
      margin-bottom:10px;
    }

    .list{
      display:flex;
      flex-direction:column;
      gap:10px;
      max-height: 70vh;
      overflow:auto;
      padding-right: 2px;
    }
    .item{
      border:1px solid #e7e7e7;
      border-radius:12px;
      padding:10px;
      background:#fff;
    }
    .item .name{
      font-weight:800;
      font-size:14px;
      margin:0 0 6px;
      line-height:1.5;
    }
    .item .meta{
      margin:0 0 10px;
      color:#444;
      font-size:13px;
      line-height:1.6;
    }
    .actions{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .btn{
      display:inline-block;
      padding:8px 10px;
      border-radius:10px;
      border:1px solid #0B6E4F;
      background:#0B6E4F;
      color:#fff;
      text-decoration:none;
      font-weight:800;
      font-size:13px;
      white-space:nowrap;
    }
    .btn.secondary{
      background:#fff;
      color:#0B6E4F;
    }
    .note{
      margin-top:10px;
      font-size:12px;
      color:#555;
      line-height:1.6;
    }
  </style>
</head>

<body>
  <header>
    <h1>#احفظه_معنا | خريطة صناديق حفظ المصاحف – منطقة جازان</h1>
    <p>ابحث عن أقرب صندوق، ثم اضغط “الاتجاهات” لفتح Google Maps وتحديد الطريق من موقعك الحالي.</p>
  </header>

  <div class="wrap">

    <!-- قائمة المواقع -->
    <aside class="card">
      <div class="panel">
        <h2>المحافظات والمواقع</h2>
        <input id="q" class="search" type="search" placeholder="ابحث باسم المحافظة… (مثال: صبيا / بيش / فيفا)" />

        <div id="list" class="list">
          <!-- سيتم تعبئتها عبر JavaScript -->
        </div>

        <div class="note">
          ملاحظة: بعض الإحداثيات قد تكون تقديرية. إذا رغبت بدقة 100% لكل موقع،
          زودني بإحداثيات كل صندوق أو روابط maps.google.com/?q=lat,lng وسأحدّث القائمة.
        </div>
      </div>
    </aside>

    <!-- الخريطة -->
    <main class="card">
      <div class="map">
        <iframe
          src="https://www.google.com/maps/d/u/0/embed?mid=1QE5-MUYNlbb9j7j3kiTLEBJb1MlTVNc"
          allowfullscreen
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          title="خريطة صناديق حفظ المصاحف – منطقة جازان">
        </iframe>
      </div>
    </main>

  </div>

  <script>
    // مواقع الصناديق (Name, lat, lng, note)
    const places = [
      { name: "صندوق حفظ المصاحف – جيزان", lat: 16.899836, lng: 42.552330, note: "بجوار جامع الأميرة صيتة" },
      { name: "صندوق حفظ المصاحف – صبيا", lat: 17.123000, lng: 42.750000, note: "بجوار جامع الدرسي (إحداثيات تقديرية)" },
      { name: "صندوق حفظ المصاحف – ضمد", lat: 17.112385, lng: 42.777718, note: "حي الزاهر بجوار مسجد الهاتف شرق البنك الأهلي" },
      { name: "صندوق حفظ المصاحف – صامطة", lat: 16.599133, lng: 42.935261, note: "بجوار جامع العليا حي السنيد" },
      { name: "صندوق حفظ المصاحف – أحد المسارحة", lat: 16.702896, lng: 42.954578, note: "بجوار جامع الدحمان" },
      { name: "صندوق حفظ المصاحف – العارضة", lat: 17.010000, lng: 43.030000, note: "بجوار جامع الراجحي (إحداثيات تقديرية)" },
      { name: "صندوق حفظ المصاحف – العيدابي", lat: 17.130000, lng: 43.170000, note: "بجوار جامع أبو بكر الصديق (إحداثيات تقديرية)" },
      { name: "صندوق حفظ المصاحف – بيش", lat: 17.370344, lng: 42.539795, note: "بجوار جامع الراجحي بمدينة بيش" },
      { name: "صندوق حفظ المصاحف – أبو عريش", lat: 16.967049, lng: 42.837952, note: "بجوار جامع الميرابي" },
      { name: "صندوق حفظ المصاحف – فيفا", lat: 17.250000, lng: 43.100000, note: "بجوار جامع أبو بكر الصديق (إحداثيات تقديرية)" },
      { name: "صندوق حفظ المصاحف – الداير بني مالك", lat: 17.336403, lng: 43.137497, note: "بجوار جامع خادم الحرمين الشريفين" },
      { name: "صندوق حفظ المصاحف – عيبان بلغازي", lat: 17.278406, lng: 43.050171, note: "بجوار جامع عيبان" },
      { name: "صندوق حفظ المصاحف – الدرب", lat: 17.732662, lng: 42.249622, note: "بجوار جامع الأميرة الجوهرة" },
      { name: "صندوق حفظ المصاحف – فرسان", lat: 16.700000, lng: 42.100000, note: "بجوار جامع الشيخ هادي الراجحي (إحداثيات تقديرية)" },
      { name: "صندوق حفظ المصاحف – الريث", lat: 17.550000, lng: 42.850000, note: "بجوار جامع الرحمة (إحداثيات تقديرية)" },
      { name: "صندوق حفظ المصاحف – هروب", lat: 17.446735, lng: 42.875393, note: "بجوار جامع حمزة بن عبدالمطلب" },
      { name: "صندوق حفظ المصاحف – الطوال", lat: 16.528753, lng: 42.967049, note: "بجوار جامع الأوسط" },
      { name: "صندوق حفظ المصاحف – الحرث", lat: 16.829000, lng: 42.955727, note: "إسكان الحصمة بجوار إدارة المساجد" },
    ];

    const listEl = document.getElementById("list");
    const qEl = document.getElementById("q");

    function mapsPlaceLink(lat, lng){
      return `https://maps.google.com/?q=${lat},${lng}`;
    }

    // Directions: يفتح الملاحة من موقع المستخدم الحالي إلى الإحداثيات
    function mapsDirectionsLink(lat, lng){
      return `https://www.google.com/maps/dir/?api=1&destination=${lat},${lng}`;
    }

    function render(filterText=""){
      listEl.innerHTML = "";
      const ft = filterText.trim().toLowerCase();

      places
        .filter(p => !ft || p.name.toLowerCase().includes(ft))
        .forEach(p => {
          const item = document.createElement("div");
          item.className = "item";

          item.innerHTML = `
            <p class="name">${p.name}</p>
            <p class="meta">${p.note || ""}<br><span style="opacity:.8">(${p.lat.toFixed(6)}, ${p.lng.toFixed(6)})</span></p>
            <div class="actions">
              <a class="btn" target="_blank" rel="noopener" href="${mapsDirectionsLink(p.lat, p.lng)}">الاتجاهات</a>
              <a class="btn secondary" target="_blank" rel="noopener" href="${mapsPlaceLink(p.lat, p.lng)}">فتح الموقع</a>
            </div>
          `;
          listEl.appendChild(item);
        });

      if (!listEl.children.length){
        listEl.innerHTML = `<div class="item"><p class="name">لا توجد نتائج</p><p class="meta">جرّب كلمة بحث أخرى.</p></div>`;
      }
    }

    qEl.addEventListener("input", (e) => render(e.target.value));
    render();
  </script>
</body>
</html>
